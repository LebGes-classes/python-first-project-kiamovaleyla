import os


class Menu:
    """Класс для управления меню и отображением интерфейса игры."""

    @staticmethod
    def clear_screen() -> None:
        """Очищает экран консоли."""

        os.system('cls' if os.name == 'nt' else 'clear')

    @staticmethod
    def show_main_menu() -> int:
        """Отображает главное меню и получает выбор пользователя.

        Returns:
            int: Выбранный пункт меню (1-4).
        """

        Menu.clear_screen()

        print("╔══════════════════════════════════╗")
        print(" ║           ЛАБИРИНТ               ║")
        print(" ╠══════════════════════════════════╣")
        print(" ║ 1. Новая игра                    ║")
        print(" ║ 2. Управление                    ║")
        print(" ║ 3. Об игре                       ║")
        print(" ║ 4. Выход                         ║")
        print(" ╚══════════════════════════════════╝")

        while True:
            choice = input("Выберите вариант (1-4): ")
            if choice in ['1', '2', '3', '4']:
                return int(choice)
            print("Неверный ввод. Попробуйте снова.")

    @staticmethod
    def show_controls() -> None:
        """Отображает экран с информацией об управлении в игре."""

        Menu.clear_screen()

        print("╔══════════════════════════════════╗")
        print("║          УПРАВЛЕНИЕ              ║")
        print("╠══════════════════════════════════╣")
        print("║ W или ↑ - Движение вверх         ║")
        print("║ S или ↓ - Движение вниз          ║")
        print("║ A или ← - Движение влево         ║")
        print("║ D или → - Движение вправо        ║")
        print("║ Q - Выход в меню                 ║")
        print("╚══════════════════════════════════╝")
        input("\nНажмите Enter для возврата в меню")

    @staticmethod
    def show_about() -> None:
        """Отображает экран с информацией об игре и обозначениями."""

        Menu.clear_screen()

        print("╔══════════════════════════════════╗")
        print("║           ОБ ИГРЕ                ║")
        print("╠══════════════════════════════════╣")
        print("║ Лабиринт - консольная игра       ║")
        print("║ Цель: найти выход из лабиринта   ║")
        print("║                                  ║")
        print("║ Обозначения:                     ║")
        print("║   P - игрок                      ║")
        print("║   █ - стена                      ║")
        print("║   E - выход                      ║")
        print("║   · - проход                     ║")
        print("╚══════════════════════════════════╝")
        input("\nНажмите Enter для возврата в меню...")

    @staticmethod
    def show_game_screen(maze_display: list[str], moves_count: int) -> None:
        """Отображает игровой экран с лабиринтом и статистикой.

        Args:
            maze_display (list[str]): Отображение лабиринта для вывода.
            moves_count (int): Количество сделанных игроком ходов.
        """

        Menu.clear_screen()

        print("╔══════════════════════════════════╗")
        print(" ║         ИГРА: ЛАБИРИНТ           ║")
        print(" ╠══════════════════════════════════╣")

        for row in maze_display:
            # Заменяем пробелы на точки для лучшей видимости проходов
            display_row = row.replace(' ', '·')
            print(f" ║ {display_row}                  ║")

        print(" ╠══════════════════════════════════╣")
        print(f" ║ Ходов сделано:{moves_count:<19}║")
        print(" ║ Управление: WASD/Стрелки,  Q-меню║")
        print(" ╚══════════════════════════════════╝")